"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.sendBody = exports.isHttp2Response = void 0;
const stream_1 = require("stream");
/**
 * A type guard to see if a Response object is a HTTP2 response.
 */
function isHttp2Response(response) {
    return response.stream !== undefined;
}
exports.isHttp2Response = isHttp2Response;
function sendBody(res, body) {
    if (body === null) {
        res.end();
        return;
    }
    else if (typeof body === 'string') {
        res.end(body);
    }
    else if (body instanceof Buffer) {
        res.end(body);
    }
    else if (body instanceof stream_1.Readable) {
        body.pipe(res);
    }
    else if (typeof body === 'object') {
        res.end(JSON.stringify(body));
    }
    else if (typeof body === 'function') {
        body(res);
    }
    else {
        throw new TypeError('Unsupported type for body: ' + typeof body);
    }
}
exports.sendBody = sendBody;
//# sourceMappingURL=http-utils.js.map